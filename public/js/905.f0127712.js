"use strict";(self["webpackChunkepharma"]=self["webpackChunkepharma"]||[]).push([[905],{82905:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var o=r(56768),i=r(45130),n=r(24232),s=(0,o.Lk)("p",{class:"h5"},"Informations générales",-1),a={class:"form-row"},l={class:"form-group col-md-4"},d=(0,o.Lk)("label",null,"Libelle",-1),u=["disabled"],c={class:"form-group col-md-4"},f=(0,o.Lk)("label",null,"Pin",-1),m=["disabled"],b={class:"form-group col-md-4"},p=(0,o.Lk)("label",null,"Statut",-1),h=["disabled"],k=(0,o.Lk)("option",{value:"Fermer"},"Fermer",-1),L=(0,o.Lk)("option",{value:"Ouvert"},"Ouvert",-1),g=[k,L],v={key:0,class:"d-flex justify-content-end"},y={type:"submit",class:"btn btn-light"},x={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function w(e,t,r,k,L,w){var C=this;return(0,o.uX)(),(0,o.CE)("form",{autocomplete:"off",onSubmit:t[4]||(t[4]=(0,i.D$)((function(t){return e.createLine()}),["prevent"]))},[(0,o.Lk)("div",null,[s,(0,o.Lk)("div",a,[(0,o.Lk)("div",l,[d,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control bg-bg-input border border-dark px-[4rem]","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.libelle=t}),disabled:this.formLocked,autocomplete:"off",required:""},null,8,u),[[i.Jo,e.form.libelle]])]),(0,o.Lk)("div",c,[f,(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control bg-bg-input border border-dark px-[4rem]","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.pin=t}),disabled:this.formLocked,autocomplete:"new-password",required:""},null,8,m),[[i.Jo,e.form.pin]])]),(0,o.Lk)("div",b,[p,(0,o.bo)((0,o.Lk)("select",{class:"form-control bg-bg-input border border-dark px-[4rem]","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.statut=t}),disabled:this.formLocked,required:""},g,8,h),[[i.u1,e.form.statut]])])])]),0==this.formLocked?((0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("button",{type:"button",class:"btn btn-light mr-2",onClick:t[3]||(t[3]=function(e){return C.$emit("line_updated")})},"Annuler"),(0,o.Lk)("button",y,[(0,o.eW)((0,n.v_)(e.buttonLabel)+" ",1),1==e.isLoading?((0,o.uX)(),(0,o.CE)("span",x)):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0)],32)}r(51629),r(26099),r(23500);var C=r(46587),$=r.n(C);const E=(0,o.pM)({name:"FormConfiguration",props:{datas:{type:Object,default:null},formLocked:{type:Boolean,default:!1}},inject:["dialogRef"],data:function(){return{table:"caisses",isLoading:!1,line:null,form:{created_by:this.$store.getters.user.fullname}}},created:function(){this.dialogRef.data?this.line=this.dialogRef.data:this.datas&&(this.line=this.datas)},mounted:function(){this.line&&(this.form={libelle:this.line.libelle,statut:this.line.statut})},computed:{buttonLabel:function(){return this.line?"Mettre à jour":"Enregistrer"}},methods:{createLine:function(){var e=this;this.isLoading=!0;var t="/api/"+this.table;this.line&&(t=t+"/"+this.line.id+"/update",this.form),this.axios.post(t,this.form).then((function(t){e.isLoading=!1,!0===t.data.success?($()("#refresh"+e.table).click(),e.line?e.$emit("line_updated"):e.resetForm(),e.dialogRef.close(),e.$toast.add({severity:"success",detail:t.data.message,life:3e3})):t.data.errors.forEach((function(t){e.$toast.add({severity:"warn",summary:"Oups !",detail:t,life:7e3})}))}))["catch"]((function(){e.isLoading=!1,e.$toast.add({severity:"error",summary:"Probleme de connexion",detail:"Une erreur s'est produite lors de la connexion au serveur !",life:5e3})}))},resetForm:function(){this.form={}}}});var F=r(71241);const j=(0,F.A)(E,[["render",w]]),O=j}}]);
//# sourceMappingURL=905.f0127712.js.map