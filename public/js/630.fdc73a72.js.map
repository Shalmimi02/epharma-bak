{"version":3,"file":"js/630.fdc73a72.js","mappings":"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","sources":["webpack://epharma/./src/views/admin/utilisateurs/CreateUtilisateur.vue","webpack://epharma/./src/views/admin/utilisateurs/CreateUtilisateur.vue?acf7"],"sourcesContent":["<template>\n    <form @submit.prevent=\"createLine()\" v-if=\"userIsReady == false\">\n        <div>\n            <p>Informations personnelles</p>\n\n            <div class=\"form-row\">\n                <div class=\"form-group col-md-4\">\n                    <label>Nom(s)*</label>\n                    <input type=\"text\" class=\"form-control border border-dark px-[4rem]\" required\n                        v-model=\"form.last_name\">\n                </div>\n                <div class=\"form-group col-md-4\">\n                    <label>Prénom(s)*</label>\n                    <input type=\"text\" class=\"form-control border border-dark px-[4rem]\" required\n                        v-model=\"form.first_name\">\n                </div>\n                <div class=\"form-group col-md-4\">\n                    <label>Téléphone</label>\n                    <input type=\"tel\" class=\"form-control border border-dark px-[4rem]\"\n                        v-model=\"form.telephone\">\n                </div>\n                <div class=\"form-group col-md-4\">\n                    <label>Email</label>\n                    <input type=\"email\" class=\"form-control border border-dark px-[4rem]\"\n                        v-model=\"form.email\">\n                </div>\n            </div>\n        </div>\n        <div class=\" d-flex justify-content-end \">\n            <button type=\"button\" class=\"btn btn-light mr-2\" @click=\"this.dialogRef.close()\">Fermer</button>\n            <button type=\"submit\" class=\"btn btn-light\">\n                Enregistrer\n                <span v-if=\"isLoading == true\" class=\"spinner-border spinner-border-sm\" role=\"status\"\n                    aria-hidden=\"true\"></span>\n            </button>\n        </div>\n    </form>\n    <div v-else class=\"container\">\n        <div class=\"col-md-8 mx-auto mb-3\">\n            <p class=\"text-center h5\">Le nouvel utilisateur a été créé avec succès! Veuillez récupérer les identifiants\n                du compte ci-dessous</p>\n        </div>\n\n        <div class=\"col-md-4 text-center mx-auto bg-gris p-3\" v-if=\"newUser != null\">\n            <div class=\"form-group\">\n                <label>Nom d'utilisateur</label>\n                <div class=\"row\">\n                    <h5 class=\"col-md-10 text-primary\" ref=\"usernameRef\">{{ newUser.user.name }}</h5>\n                    <button @click=\"copyToClipboard('usernameRef')\" class=\"col-md-2 btn btn-light\">\n                        <i :class=\"copyIconUsername\"></i>\n                    </button>\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label>Mot de passe temporaire</label>\n                <div class=\"row\">\n                    <h5 class=\"col-md-10 text-primary\" ref=\"passwordRef\">{{ newUser.password }}</h5>\n                    <button @click=\"copyToClipboard('passwordRef')\" class=\"col-md-2 btn btn-light\">\n                        <i :class=\"copyIconPassword\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport $ from \"jquery\"\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n    name: 'CreateUtilisateur',\n    inject: ['dialogRef'],\n    data() {\n        return {\n            table: 'utilisateurs',\n            isLoading: false,\n            userIsReady: false,\n            newUser: null,\n            form: {},\n            copiedUsername: false,\n            copiedPassword: false,\n            copyIconUsername: 'fas fa-copy',\n            copyIconPassword: 'fas fa-copy',\n        }\n    },\n    methods: {\n        createLine() {\n            this.isLoading = true\n            this.form.fullname = this.form.last_name + ' ' + this.form.first_name\n            this.axios.post('/api/' + this.table, this.form).then(response => {\n                this.isLoading = false\n                if (response.data.success === true) {\n                    this.resetForm()\n                    $('#refresh' + this.table).click()\n                    // this.dialogRef.close()\n                    this.$toast.add({\n                        severity: 'success',\n                        detail: response.data.message,\n                        life: 3000\n                    });\n                    this.newUser = response.data.data\n                    this.userIsReady = true\n                }\n                else {\n                    response.data.errors.forEach(element => {\n                        this.$toast.add({\n                            severity: 'warn',\n                            summary: 'Oups !',\n                            detail: element,\n                            life: 7000\n                        });\n                    });\n                }\n            }).catch(() => {\n                this.isLoading = false\n                this.$toast.add({\n                    severity: 'error',\n                    summary: 'Probleme de connexion',\n                    detail: 'Une erreur s\\'est produite lors de la connexion au serveur !',\n                    life: 5000\n                });\n            })\n        },\n        resetForm() {\n            this.form = {}\n        },\n        copyToClipboard(refName) {\n            // Accéder à l'élément via la référence\n            const textToCopy = this.$refs[refName].innerText;\n\n            // Créer un élément temporaire pour copier le texte\n            const el = document.createElement('textarea');\n            el.value = textToCopy;\n            document.body.appendChild(el);\n            el.select();\n            document.execCommand('copy');\n            document.body.removeChild(el);\n\n            // Mettre à jour les états en fonction de la référence copiée\n            if (refName === 'usernameRef') {\n                this.copiedUsername = true;\n                this.copyIconUsername = 'fas fa-check';\n\n                setTimeout(() => {\n                    this.copiedUsername = false;\n                    this.copyIconUsername = 'fas fa-copy';\n                }, 5000);\n            } else if (refName === 'passwordRef') {\n                this.copiedPassword = true;\n                this.copyIconPassword = 'fas fa-check';\n\n                setTimeout(() => {\n                    this.copiedPassword = false;\n                    this.copyIconPassword = 'fas fa-copy';\n                }, 5000);\n            }\n        }\n    }\n})\n</script>\n","import { render } from \"./CreateUtilisateur.vue?vue&type=template&id=0613509d\"\nimport script from \"./CreateUtilisateur.vue?vue&type=script&lang=js\"\nexport * from \"./CreateUtilisateur.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","type","key","role","_ctx","userIsReady","_createElementBlock","onSubmit","_cache","_withModifiers","$event","createLine","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","required","form","last_name","_hoisted_5","_hoisted_6","first_name","_hoisted_7","_hoisted_8","telephone","_hoisted_9","_hoisted_10","email","_hoisted_11","onClick","_this","dialogRef","close","_hoisted_12","_createTextVNode","isLoading","_hoisted_13","_createCommentVNode","_hoisted_14","_hoisted_15","newUser","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","ref","user","name","copyToClipboard","_normalizeClass","copyIconUsername","_hoisted_20","_hoisted_21","_hoisted_22","password","copyIconPassword","defineComponent","inject","data","table","copiedUsername","copiedPassword","methods","this","fullname","axios","post","then","response","success","resetForm","$","click","$toast","add","severity","detail","message","life","errors","forEach","element","summary","refName","_this2","textToCopy","$refs","innerText","el","document","createElement","value","body","appendChild","select","execCommand","removeChild","setTimeout","__exports__","render"],"sourceRoot":""}