"use strict";(self["webpackChunkepharma"]=self["webpackChunkepharma"]||[]).push([[698],{4698:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var n=s(56768),a=s(45130),o={key:0,class:"d-flex mb-3"},r=(0,n.Lk)("i",{class:"fas fa-edit"},null,-1),i=(0,n.Lk)("i",{class:"fas fa-trash-alt"},null,-1),u=(0,n.Lk)("i",{class:"fas fa-eye"},null,-1);function d(e,t,s,d,c,l){var f=(0,n.g2)("FormFournisseur");return(0,n.uX)(),(0,n.CE)(n.FK,null,[1==e.formLocked?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("button",{type:"button",class:"btn btn-info btn-sm mr-2",onClick:t[0]||(t[0]=function(t){return e.switchStatutModif()})},[r,(0,n.eW)(" Modifier ")]),(0,n.Lk)("button",{type:"button",class:"btn btn-danger btn-sm mr-2",onClick:t[1]||(t[1]=(0,a.D$)((function(t){return e.deleteLine()}),["prevent"]))},[i,(0,n.eW)(" Supprimer ")]),(0,n.Lk)("button",{type:"button",class:"btn btn-secondary btn-sm mr-2",onClick:t[2]||(t[2]=(0,a.D$)((function(t){return e.openTableFournisseur()}),["prevent"]))},[u,(0,n.eW)(" Voir les produits ")])])):(0,n.Q3)("",!0),((0,n.uX)(),(0,n.Wv)(f,{key:e.key,formLocked:e.formLocked,datas:e.datas,onLine_updated:e.switchStatutModif},null,8,["formLocked","datas","onLine_updated"]))],64)}s(51629),s(26099),s(47764),s(23500),s(62953);var c=s(46587),l=s.n(c),f=(0,n.$V)((function(){return s.e(775).then(s.bind(s,26775))})),m=(0,n.$V)((function(){return s.e(723).then(s.bind(s,90723))}));const h=(0,n.pM)({name:"ShowFournisseur",inject:["dialogRef"],components:{FormFournisseur:f,TableFournisseur:m},data:function(){return{key:1,table:"fournisseurs",isLoading:!1,formLocked:!0,datas:this.dialogRef.data}},methods:{switchStatutModif:function(){this.key++,0==this.formLocked?this.formLocked=!0:this.formLocked=!1},deleteLine:function(){var e=this;this.$confirm.require({group:"headless",header:"Etes-vous sûr?",message:"Cette action est irréversible!",accept:function(){e.isLoading=!0,e.axios.post("/api/"+e.table+"/"+e.datas.id+"/destroy").then((function(t){e.isLoading=!1,!0===t.data.success?(l()("#refresh"+e.table).click(),e.dialogRef.close(),e.$toast.add({severity:"success",detail:t.data.message,life:3e3})):t.data.errors.forEach((function(t){e.$toast.add({severity:"warn",summary:"Oups !",detail:t,life:2e4})}))}))["catch"]((function(){e.isLoading=!1,e.$toast.add({severity:"error",summary:"Probleme de connexion",detail:"Une erreur s'est produite lors de la connexion au serveur !",life:5e3})}))}})},openTableFournisseur:function(){this.$dialog.open(m,{props:{header:"Liste des produits",style:{width:"90vw"},modal:!0},data:this.dialogRef.data})}}});var p=s(71241);const b=(0,p.A)(h,[["render",d]]),k=b}}]);
//# sourceMappingURL=698.d8f35b73.js.map